<Window x:Class="TechDashboard.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:TechDashboard.ViewModels"
        Title="TechDashboard" Height="720" Width="1100"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource WindowBackgroundBrush}"
        Foreground="{DynamicResource TextBrush}">
    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="NavColumn" Width="200" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Nav -->
        <Border x:Name="NavPanel" Grid.Column="0" Background="{DynamicResource NavGradientBrush}" Opacity="0.94" CornerRadius="0,8,8,0" Padding="12">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,18">
                    <Border Width="40" Height="40" CornerRadius="8" Background="{StaticResource AccentBrush}">
                        <TextBlock Text="D" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="20" FontWeight="Bold"/>
                    </Border>
                    <TextBlock Text="  DASHBOARD" VerticalAlignment="Center" FontSize="16" FontWeight="Bold" Visibility="{Binding IsNavExpanded, Converter={StaticResource BoolToVis}}"/>
                </StackPanel>

                <StackPanel>
                    <Button Style="{StaticResource NavButtonStyle}" Margin="0,0,0,6">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" />
                            <TextBlock Text="  Overview" Margin="8,0,0,0" Visibility="{Binding IsNavExpanded, Converter={StaticResource BoolToVis}}"/>
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource NavButtonStyle}" Margin="0,0,0,6">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" />
                            <TextBlock Text="  Analytics" Margin="8,0,0,0" Visibility="{Binding IsNavExpanded, Converter={StaticResource BoolToVis}}"/>
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource NavButtonStyle}" Margin="0,0,0,6">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" />
                            <TextBlock Text="  Reports" Margin="8,0,0,0" Visibility="{Binding IsNavExpanded, Converter={StaticResource BoolToVis}}"/>
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource NavButtonStyle}" Margin="0,0,0,6">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="" FontFamily="Segoe MDL2 Assets" />
                            <TextBlock Text="  Settings" Margin="8,0,0,0" Visibility="{Binding IsNavExpanded, Converter={StaticResource BoolToVis}}"/>
                        </StackPanel>
                    </Button>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,20,0,0" HorizontalAlignment="Left">
                    <Button Command="{Binding ToggleNavCommand}" Style="{StaticResource AccentButton}" Width="40" Height="36" Margin="0,0,6,0">
                        <TextBlock Text="" FontFamily="Segoe MDL2 Assets" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Button>
                    <Button Command="{Binding ToggleThemeCommand}" Style="{StaticResource AccentButton}" Width="110" Height="36">
                        <TextBlock Text="切换主题" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Button>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Content -->
        <Grid Grid.Column="1" Margin="18">
            <Grid.RowDefinitions>
                <RowDefinition Height="220" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal" Grid.Row="0">
                <Border Background="{DynamicResource CardBackgroundBrush}" CornerRadius="10" Padding="14" Width="260" Margin="0,0,16,0" Effect="{StaticResource CardShadow}">
                    <StackPanel>
                        <TextBlock Text="Active Users" FontWeight="Bold" Foreground="{DynamicResource TextBrush}" />
                        <TextBlock Text="1,243" FontSize="28" FontWeight="SemiBold" Margin="0,8,0,0" Foreground="{DynamicResource AccentBrush}" />
                    </StackPanel>
                </Border>

                <Border Background="{DynamicResource CardBackgroundBrush}" CornerRadius="10" Padding="14" Width="260" Margin="0,0,16,0" Effect="{StaticResource CardShadow}">
                    <StackPanel>
                        <TextBlock Text="CPU Load" FontWeight="Bold" Foreground="{DynamicResource TextBrush}" />
                        <TextBlock Text="68%" FontSize="28" FontWeight="SemiBold" Margin="0,8,0,0" Foreground="{DynamicResource AccentBrush}" />
                    </StackPanel>
                </Border>

                <Border Background="{DynamicResource CardBackgroundBrush}" CornerRadius="10" Padding="14" Width="260" Effect="{StaticResource CardShadow}">
                    <StackPanel>
                        <TextBlock Text="Errors (24h)" FontWeight="Bold" Foreground="{DynamicResource TextBrush}" />
                        <TextBlock Text="3" FontSize="28" FontWeight="SemiBold" Margin="0,8,0,0" Foreground="{DynamicResource AccentBrush}" />
                    </StackPanel>
                </Border>
            </StackPanel>

            <Border Grid.Row="1" CornerRadius="12" Background="{DynamicResource CardBackgroundBrush}" Padding="12" Margin="0,16,0,0" Effect="{StaticResource CardShadow}">
                <TextBlock Text="主内容区域 — 在这里放图表、日志、表格等。" Foreground="{DynamicResource TextBrush}" Opacity="0.9"/>
            </Border>
        </Grid>
    </Grid>
</Window>
